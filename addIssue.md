---
model: claude-sonnet-4-20250514
---

## 指示
GitHub Issue を作成し、同時にローカルにも記録するコマンドです。

## 動作フロー
1. Issue作成モードで開始メッセージを表示
2. 現在のセッション内容を分析してIssue情報を抽出
3. AIが疑問点を完全に解消するまで対話的に質問（固定の質問リストではなく、状況に応じた自由な質問）
4. 収集した情報を基にIssueのタイトルと本文を生成
5. ユーザーに確認後、GitHub Issueを作成（`gh issue create`）
6. 作成されたIssue番号を取得
7. ローカルに `docs/issues/{issueNum}_{issueName}/about.md` を作成（必ず正しい階層に作成すること）

## 対話的な情報収集
Issueの内容を完全に理解するまで、AIが状況に応じて自由に質問を行います。

### アプローチ
- 固定の質問リストに縛られず、文脈に応じた質問を生成
- ユーザーの回答から新たな疑問点を見つけて追加質問
- 曖昧な部分や不明確な点を全て解消するまで対話を継続
- 技術的な詳細、ビジネス要件、影響範囲など必要に応じて深掘り

### 質問の例（状況により変化）
- 問題の背景や経緯について
- 技術的な実装の詳細
- 影響を受けるユーザーやシステム
- 優先度や緊急度の判断基準
- 関連する過去の問題や類似事例
- 試した解決策や回避策
- 期待する完了条件

## GitHub Issue テンプレート
以下の形式でIssueを作成してください：

```
## 概要
[何が起きているか、何を実現したいか]

## 背景（必要あれば）
[なぜこのIssueが必要か]

## 再現手順 / 実現手順
1. [手順1]
2. [手順2]
3. [手順3]

## 期待する結果
[どうなってほしいか]

## 実際の結果（バグの場合のみ）
[実際にどうなったか]

## 補足情報
[スクリーンショットやエラーログなど]

## 実装時の重要ルール
- 必ず既存のコードベースを網羅的に把握してから完全な実装プランを立ててから実装を開始すること。
- issueと関係ないコードは触るとバグになる可能性が高いので、必ず避けること。
- 実装中に別の問題が発生した場合は、必ずissueを新規作成して報告すること。その際もこの「実装時の重要ルール」を必ず反映させること。
- 1つのissueに対しては必ず1つのPRにすること
- タスクリストごとにcommitして、commitの単位を小さく保つこと
```

## タイトル生成ルール
タイプ判定により自動的にプレフィックスを付与：

- バグ関連キーワード → **bug:** + 内容
- 機能関連キーワード → **feat:** + 内容  
- 改善関連キーワード → **enhance:** + 内容
- ドキュメント関連キーワード → **docs:** + 内容
- 質問関連キーワード → **question:** + 内容
- その他 → **task:** + 内容

## ラベル設定
- バグ: `bug`
- 新機能: `feature` または `enhancement`
- 質問: `question`
- ドキュメント: `documentation`
- 高優先度キーワードがある場合: `priority-high`

## ローカル記録フォーマット
`docs/issues/{issueNum}_{issueName}/about.md`（重要：必ずdocs/配下に作成すること）:

```markdown
# {タイトル}

**GitHub Issue:** #{issueNum} - {GitHubのIssueURL}

## 概要
[概要]

## 詳細
[詳細内容]

## 関連情報
- 作成日: {作成日}
- ステータス: Open
- ラベル: {適用ラベル}

## 進捗
- [ ] Issue作成完了
- [ ] 実装開始
- [ ] レビュー
- [ ] クローズ
```

## 重要な注意事項
- 1Issue につき1トピックのみ
- 曖昧な表現禁止、具体的に記述
- 実装時の重要ルールは必ず含める
- GitHub MCPを使用してIssue作成
- 作成確認後にローカル記録を実行